---
sudo: required
language: bash
jobs:
  include:
    - os: osx
      osx_image: xcode12.5
      env:
        - SCENARIO=erlang
    - os: osx
      osx_image: xcode12.5
      env:
        - SCENARIO=kubectl
    - os: osx
      osx_image: xcode12.5
      env:
        - SCENARIO=no_plugins
    - os: osx
      osx_image: xcode12.5
      env:
        - SCENARIO=python
    - os: osx
      osx_image: xcode12.5
      env:
        - SCENARIO=ruby
    - os: osx
      osx_image: xcode12.5
      env:
        - SCENARIO=nodejs
before_install: []
install:
  - sudo python3 -m pip install poetry
  - poetry install
script:
  - poetry run molecule lint
  - travis_wait 40 poetry run molecule test -s "${SCENARIO}"
notifications:
  slack:
    secure: ndV+3XCxYiv4Es1StsmG4p7ED7acdGihz4E+9hUTgoO8l8A4Ampg/kmzQgBmYoixGRoqf3Z/mpvpQYsKzdHj1CUMpD0tuHn2OCSI7nJ1eZULjQd8g6zCzKrfKtw3k620TsxMpVZqQcgz9L+qA3lxQoEQx4voLlF0U1R1ak03hE3xxgsDlNVwvGEUmfuGMkVZsZCMEzPWYcpDJGgmfCRu909/O2FIgkOj8M9Q/8sqHPGJXA7Zk0VHHAvrarvYY63u0yqRKcIP5XSifgaAb+fsPWejh2BpP7bUUJNZpws0nD6tObLdF+hBDpzfFSKKag8XgpSx6VBSD4AyieP9rBmkkS5Qnd6v5K7qnOKEGbKFx7nQ4UHidsHTo2FUXJfPRqUbJ+0MJQSQwnnOxuUTlfy9bilVrj66Zwd0dBppOL7WRZxoG9O5jN8qHm9BTMcqyCdr+9ZPnkdx1WA5qJGenBoh32Ou43OwhnRcVPEdRg1KMI2z8YkOR/GxvqwhSXJPx2dTNtWmZ+ky948C0ZZZqXwTwPKagQqod5oY4NBstMuB94kM/nW/n6sb55qsMNenGy8KVhX0OnSalHSKjOxXk+E/XnT9s0wgj/40Rsjte0dh0p04u6XZv+3QYmiNoa3Ch7fY0najAIs3BVDgy4KU5x7IJfH1q7W5x+OQeFIYbVAopUM=
